{% extends "custom_admin/base.html" %}
{% block title %}{% block list_title %}القائمة{% endblock %}{% endblock %}

{% block content %}
  <div class="card">
    <h2 class="section-title">{% block list_title %}القائمة{% endblock %}</h2>

    <form method="get" class="toolbar" style="margin-bottom:12px">
      <input class="input" type="text" name="q" value="{{ q|default:'' }}" placeholder="ابحث..." />
      <button class="btn">بحث</button>
    </form>

    <div class="table-wrap">
      <table class="table">
        <thead>
          <tr>
            {% block list_headers %}
              <th>العمود 1</th>
              <th>العمود 2</th>
            {% endblock %}
          </tr>
        </thead>
        <tbody>
          {% block list_rows %}
            {% for x in items %}
              <tr><td>{{ x }}</td><td></td></tr>
            {% empty %}
              <tr><td colspan="2">لا توجد عناصر</td></tr>
            {% endfor %}
          {% endblock %}
        </tbody>
      </table>
    </div>

    {% if items.paginator %}
      <div class="toolbar" style="justify-content:space-between">
        <span class="muted">صفحة {{ items.number }} من {{ items.paginator.num_pages }}</span>
        <div>
          {% if items.has_previous %}
            <a class="btn sm" href="?q={{ q }}&page={{ items.previous_page_number }}">السابق</a>
          {% endif %}
          {% if items.has_next %}
            <a class="btn sm" href="?q={{ q }}&page={{ items.next_page_number }}">التالي</a>
          {% endif %}
        </div>
      </div>
    {% endif %}
  </div>
{% endblock %}

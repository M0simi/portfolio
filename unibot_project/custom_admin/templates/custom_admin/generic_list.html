{% extends "custom_admin/base.html" %}
{% load static %}

{% block content %}
  <div class="card">
    <h2 class="title">
      {% block list_title %}{% endblock %}
    </h2>

    <form method="get" class="toolbar" style="margin:12px 0">
      <input class="input" type="text" name="q" value="{{ q|default:'' }}" placeholder="ابحث…">
      <button class="btn">بحث</button>
    </form>

    <div class="table-wrap">
      <table class="table">
        <thead>
          <tr>
            {% block list_headers %}{% endblock %}
          </tr>
        </thead>
        <tbody>
          {% block list_rows %}{% endblock %}
        </tbody>
      </table>
    </div>

    {# دعم الترقيم إذا كان items صفحة Paginator #}
    {% if items and items.paginator %}
      <div class="toolbar" style="justify-content:flex-end">
        {% if items.has_previous %}
          <a class="btn sm" href="?q={{ q }}&page={{ items.previous_page_number }}">السابق</a>
        {% endif %}
        <span class="muted">صفحة {{ items.number }} / {{ items.paginator.num_pages }}</span>
        {% if items.has_next %}
          <a class="btn sm" href="?q={{ q }}&page={{ items.next_page_number }}">التالي</a>
        {% endif %}
      </div>
    {% endif %}
  </div>
{% endblock %}

{% extends "custom_admin/base.html" %}
{% load static %}
{% block content %}
  <h2>{{ title }}</h2>
  {% include "custom_admin/_messages.html" %}

  <form method="post" {% if enctype_multipart %}enctype="multipart/form-data"{% endif %} style="margin-top:12px">
    {% csrf_token %}
    {{ form.non_field_errors }}
    <div class="grid" style="gap:12px;">
      {% for field in form %}
        <label>
          <span style="display:block;margin-bottom:6px">{{ field.label }}</span>
          {{ field }}
          {% if field.help_text %}<small class="muted">{{ field.help_text }}</small>{% endif %}
          {% for error in field.errors %}
            <small style="color:#ef4444">{{ error }}</small>
          {% endfor %}
        </label>
      {% endfor %}
    </div>

    <div style="display:flex;gap:8px;margin-top:16px;justify-content:flex-end">
      <a class="secondary" href="{% url back_url %}">رجوع</a>
      <button type="submit">{{ submit_label|default:"حفظ" }}</button>
    </div>
  </form>
{% endblock %}
